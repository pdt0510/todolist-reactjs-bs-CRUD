{"ast":null,"code":"var levelConverted=function levelConverted(searchedLower){var searchedLevel=null;if(\"small\".includes(searchedLower)){searchedLevel=0;}else if(\"medium\".includes(searchedLower)){searchedLevel=1;}else if(\"high\".includes(searchedLower)){searchedLevel=2;}return searchedLevel;};var sortNameBy=function sortNameBy(list,orderDir){if(orderDir===\"ASC\"){return list.sort(function(a,b){var nameA=a.name.toUpperCase();var nameB=b.name.toUpperCase();if(nameA<nameB)return-1;else if(nameA>nameB)return 1;else return 0;});}else{return list.sort(function(a,b){var nameA=a.name.toUpperCase();var nameB=b.name.toUpperCase();if(nameA<nameB)return 1;else if(nameA>nameB)return-1;else return 0;});}};var sortLevelBy=function sortLevelBy(list,orderDir){if(orderDir===\"ASC\"){return list.sort(function(a,b){return a.level-b.level;});}else{return list.sort(function(a,b){return b.level-a.level;});}};var searchedFilter=function searchedFilter(items,strSearch){var searchedLower=strSearch.toLowerCase();var searchedLevel=levelConverted(searchedLower);var searchedItem=items.filter(function(item){if(item.name.toLowerCase().includes(searchedLower)){return item;}else if(item.level===searchedLevel){return item;}return null;});return searchedItem;};var handleSortByName=function handleSortByName(list,orderDir){return sortNameBy(list,orderDir);};var handleSortByLevel=function handleSortByLevel(list,orderDir){return sortLevelBy(list,orderDir);};var SearchSortHandler=function SearchSortHandler(items,orderBy,orderDir,strSearch){//tạo new array để dùng, để ko bị tham chiếu lẫn nhau\nvar listShown=null;if(strSearch){listShown=searchedFilter(items,strSearch);}else if(!strSearch){listShown=Array.from(items);}if(orderBy===\"NAME\"){listShown=handleSortByName(listShown,orderDir);}else if(orderBy===\"LEVEL\"){listShown=handleSortByLevel(listShown,orderDir);}return listShown;};export default SearchSortHandler;","map":{"version":3,"sources":["D:/LEARNING__________/23.LT-ReactJs-ZendVn/v23-Github/src/control/SearchSortHandler.js"],"names":["levelConverted","searchedLower","searchedLevel","includes","sortNameBy","list","orderDir","sort","a","b","nameA","name","toUpperCase","nameB","sortLevelBy","level","searchedFilter","items","strSearch","toLowerCase","searchedItem","filter","item","handleSortByName","handleSortByLevel","SearchSortHandler","orderBy","listShown","Array","from"],"mappings":"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","sourcesContent":["const levelConverted = (searchedLower) => {\r\n  let searchedLevel = null;\r\n  if (\"small\".includes(searchedLower)) {\r\n    searchedLevel = 0;\r\n  } else if (\"medium\".includes(searchedLower)) {\r\n    searchedLevel = 1;\r\n  } else if (\"high\".includes(searchedLower)) {\r\n    searchedLevel = 2;\r\n  }\r\n  return searchedLevel;\r\n};\r\n\r\nconst sortNameBy = (list, orderDir) => {\r\n  if (orderDir === \"ASC\") {\r\n    return list.sort((a, b) => {\r\n      const nameA = a.name.toUpperCase();\r\n      const nameB = b.name.toUpperCase();\r\n      if (nameA < nameB) return -1;\r\n      else if (nameA > nameB) return 1;\r\n      else return 0;\r\n    });\r\n  } else {\r\n    return list.sort((a, b) => {\r\n      const nameA = a.name.toUpperCase();\r\n      const nameB = b.name.toUpperCase();\r\n      if (nameA < nameB) return 1;\r\n      else if (nameA > nameB) return -1;\r\n      else return 0;\r\n    });\r\n  }\r\n};\r\n\r\nconst sortLevelBy = (list, orderDir) => {\r\n  if (orderDir === \"ASC\") {\r\n    return list.sort((a, b) => {\r\n      return a.level - b.level;\r\n    });\r\n  } else {\r\n    return list.sort((a, b) => {\r\n      return b.level - a.level;\r\n    });\r\n  }\r\n};\r\n\r\nconst searchedFilter = (items, strSearch) => {\r\n  let searchedLower = strSearch.toLowerCase();\r\n  let searchedLevel = levelConverted(searchedLower);\r\n\r\n  let searchedItem = items.filter((item) => {\r\n    if (item.name.toLowerCase().includes(searchedLower)) {\r\n      return item;\r\n    } else if (item.level === searchedLevel) {\r\n      return item;\r\n    }\r\n    return null;\r\n  });\r\n  return searchedItem;\r\n};\r\n\r\nconst handleSortByName = (list, orderDir) => {\r\n  return sortNameBy(list, orderDir);\r\n};\r\n\r\nconst handleSortByLevel = (list, orderDir) => {\r\n  return sortLevelBy(list, orderDir);\r\n};\r\n\r\nconst SearchSortHandler = (items, orderBy, orderDir, strSearch) => {\r\n  //tạo new array để dùng, để ko bị tham chiếu lẫn nhau\r\n  let listShown = null;\r\n\r\n  if (strSearch) {\r\n    listShown = searchedFilter(items, strSearch);\r\n  }\r\n  else if (!strSearch) {\r\n    listShown = Array.from(items);\r\n  }\r\n\r\n  if (orderBy === \"NAME\") {\r\n    listShown = handleSortByName(listShown, orderDir);\r\n  }\r\n  else if (orderBy === \"LEVEL\") {\r\n    listShown = handleSortByLevel(listShown, orderDir);\r\n  }\r\n\r\n  return listShown;\r\n};\r\n\r\nexport default SearchSortHandler;\r\n"]},"metadata":{},"sourceType":"module"}