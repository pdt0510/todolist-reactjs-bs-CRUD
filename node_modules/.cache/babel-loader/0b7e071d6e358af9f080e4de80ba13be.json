{"ast":null,"code":"import _createForOfIteratorHelper from\"D:/LEARNING__________/23.LT-ReactJs-ZendVn/v23/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"D:/LEARNING__________/23.LT-ReactJs-ZendVn/v23/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/LEARNING__________/23.LT-ReactJs-ZendVn/v23/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/LEARNING__________/23.LT-ReactJs-ZendVn/v23/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/LEARNING__________/23.LT-ReactJs-ZendVn/v23/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import\"./App.css\";import React,{Component}from\"react\";import Title from\"./components/Title\";import Control from\"./components/Control\";import Form from\"./components/Form\";import List from\"./components/List\";import tasks from\"./mock/task\";import SearchSortHandler from\"./control/SearchSortHandler\";//src9, app2\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={items:null,isShowForm:false,strSearch:'',orderBy:'',orderDir:'',itemSelected:null};_this.UNSAFE_componentWillMount=function(){var items=JSON.parse(localStorage.getItem('tasks'));// 2ms13ss\n_this.setState({items:items?items:tasks// 2ms13ss\n// items: tasks,\n});};_this.resetAllData=function(){localStorage.removeItem('tasks');_this.UNSAFE_componentWillMount();};_this.toggleForm=function(){_this.setState({isShowForm:!_this.state.isShowForm,itemSelected:null});};_this.handleSearch=function(value){_this.setState({strSearch:value});};_this.handleSort=function(value){_this.setState({orderBy:value.orderBy,orderDir:value.orderDir});};_this.handleDelete=function(id){var items=_this.state.items.filter(function(item){return item.id!==id;});_this.setState({items:items});localStorage.setItem('tasks',JSON.stringify(items));// 1m38ss\n};_this.handleSubmit=function(formState){var items=_this.state.items;var _require=require(\"uuid\"),idRandom=_require.v4;var taskName=formState.taskName,taskLevel=formState.taskLevel,taskId=formState.taskId;if(taskId!==null){var _iterator=_createForOfIteratorHelper(items),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;if(item.id===taskId){item.name=taskName;item.level=Number(taskLevel);break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}else{items.push({id:idRandom(),name:taskName,level:Number(taskLevel)});}_this.setState({items:items,isShowForm:false});localStorage.setItem('tasks',JSON.stringify(items));// 29ss\n};_this.handleEdit=function(item){_this.setState({itemSelected:item,isShowForm:true});};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this$state=this.state,items=_this$state.items,isShowForm=_this$state.isShowForm,strSearch=_this$state.strSearch,orderBy=_this$state.orderBy,orderDir=_this$state.orderDir,itemSelected=_this$state.itemSelected;if(strSearch||orderBy){var listShown=SearchSortHandler(items,orderBy,orderDir,strSearch);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{resetAllData:this.resetAllData}),/*#__PURE__*/_jsx(Control,{toggleForm:this.toggleForm,isShowForm:isShowForm,strSearch:strSearch,handleSearch:this.handleSearch,handleSort:this.handleSort}),isShowForm?/*#__PURE__*/_jsx(Form,{toggleForm:this.toggleForm,handleSubmit:this.handleSubmit,editingItem:itemSelected}):\"\",/*#__PURE__*/_jsx(List,{items:listShown?listShown:items,handleDelete:this.handleDelete,handleEdit:this.handleEdit})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["D:/LEARNING__________/23.LT-ReactJs-ZendVn/v23/src/App.js"],"names":["React","Component","Title","Control","Form","List","tasks","SearchSortHandler","App","state","items","isShowForm","strSearch","orderBy","orderDir","itemSelected","UNSAFE_componentWillMount","JSON","parse","localStorage","getItem","setState","resetAllData","removeItem","toggleForm","handleSearch","value","handleSort","handleDelete","id","filter","item","setItem","stringify","handleSubmit","formState","require","idRandom","v4","taskName","taskLevel","taskId","name","level","Number","push","handleEdit","listShown"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport React, { Component } from \"react\";\nimport Title from \"./components/Title\";\nimport Control from \"./components/Control\";\nimport Form from \"./components/Form\";\nimport List from \"./components/List\";\nimport tasks from \"./mock/task\";\nimport SearchSortHandler from \"./control/SearchSortHandler\";\n\n//src9, app2\nclass App extends Component {\n  state = {\n    items: null,\n    isShowForm: false,\n    strSearch: '',\n    orderBy: '',\n    orderDir: '',\n    itemSelected: null,\n  };\n\n  UNSAFE_componentWillMount = () => {\n    let items = JSON.parse(localStorage.getItem('tasks'));// 2ms13ss\n\n    this.setState({\n      items: items ? items : tasks, // 2ms13ss\n      // items: tasks,\n    });\n  }\n\n  // v59xx1\n  resetAllData = () => {\n    localStorage.removeItem('tasks');\n    this.UNSAFE_componentWillMount()\n  }\n\n  toggleForm = () => {\n    this.setState({\n      isShowForm: !this.state.isShowForm,\n      itemSelected: null\n    });\n  };\n\n  handleSearch = (value) => {\n    this.setState({ strSearch: value });\n  }\n\n  handleSort = (value) => {\n    this.setState({\n      orderBy: value.orderBy,\n      orderDir: value.orderDir\n    })\n  }\n\n  handleDelete = (id) => {\n    const items = this.state.items.filter(item => item.id !== id);\n    this.setState({ items: items });\n    localStorage.setItem('tasks', JSON.stringify(items)); // 1m38ss\n  }\n\n  handleSubmit = (formState) => {\n    const { items } = this.state;\n    let { v4: idRandom } = require(\"uuid\");\n    let { taskName, taskLevel, taskId } = formState;\n\n    if (taskId !== null) {\n      for (const item of items) {\n        if (item.id === taskId) {\n          item.name = taskName;\n          item.level = Number(taskLevel);\n          break;\n        }\n      }\n    }\n    else {\n      items.push({\n        id: idRandom(),\n        name: taskName,\n        level: Number(taskLevel),\n      });\n    }\n\n    this.setState({\n      items: items,\n      isShowForm: false,\n    })\n\n    localStorage.setItem('tasks', JSON.stringify(items));// 29ss\n  }\n\n  handleEdit = (item) => {\n    this.setState({\n      itemSelected: item,\n      isShowForm: true,\n    })\n  }\n\n  render() {\n    const { items, isShowForm,\n      strSearch, orderBy, orderDir, itemSelected } = this.state;\n\n    if (strSearch || orderBy) {\n      var listShown = SearchSortHandler(\n        items, orderBy, orderDir, strSearch);\n    }\n\n    return (\n      <div>\n        <Title resetAllData={this.resetAllData} />\n        <Control\n          toggleForm={this.toggleForm}\n          isShowForm={isShowForm}\n          strSearch={strSearch}\n          handleSearch={this.handleSearch}\n          handleSort={this.handleSort}\n        />\n        {\n          isShowForm ?\n            <Form\n              toggleForm={this.toggleForm}\n              handleSubmit={this.handleSubmit}\n              editingItem={itemSelected}\n            /> : \"\"\n        }\n        {\n          (<List\n            items={listShown ? listShown : items}\n            handleDelete={this.handleDelete}\n            handleEdit={this.handleEdit}\n          />)\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}